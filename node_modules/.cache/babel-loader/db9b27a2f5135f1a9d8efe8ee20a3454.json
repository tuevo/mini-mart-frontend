{"ast":null,"code":"var _jsxFileName = \"/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/pages/Manager/WorkAssignment/WorkAssignment.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Tabs, Select, Input, List, Avatar, Button, Tooltip } from 'antd';\nimport { SearchOutlined, PlusCircleOutlined, CloseOutlined, LogoutOutlined, PlusCircleFilled, UsergroupAddOutlined, MoreOutlined } from '@ant-design/icons';\nimport USER_ROLE from '../../../../constants/user-role.constant';\nimport './WorkAssignment.style.scss';\nimport * as monent from 'moment';\nimport * as _ from 'lodash';\nimport WEEK_DAY from '../../../../constants/week-day.constant';\nimport TASK_STATUS from '../../../../constants/task-status.constant';\nconst {\n  TabPane\n} = Tabs;\nconst {\n  Option\n} = Select;\nconst workSchedules = [{\n  month: 1,\n  year: 2020\n}, {\n  month: 2,\n  year: 2020\n}, {\n  month: 3,\n  year: 2020\n}, {\n  month: 4,\n  year: 2020\n}];\nconst tasks = ['Công việc 1', 'Công việc 2', 'Công việc 3', 'Công việc 4', 'Công việc 5'];\nconst staffs = [{\n  _id: 'xxx',\n  name: 'Tue Vo',\n  role: USER_ROLE.MANAGER.name,\n  avatar: 'tue.jpeg'\n}, {\n  _id: 'yyy',\n  name: 'Dung Pham',\n  role: USER_ROLE.CASHIER.name,\n  avatar: 'dung.jpg'\n}, {\n  _id: 'zzz',\n  name: 'Binh Nguyen',\n  role: USER_ROLE.IMPORTER.name,\n  avatar: 'binh.jpg'\n}];\nexport default class WorkAssignment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTaskWorkDayPanelShown: false,\n      selectedTaskWorkDay: {\n        index: 0,\n        name: 'Công việc 1',\n        workDayInMonth: 'Chủ nhật, 01/03/2020',\n        staffs: staffs.map((staff, index) => {\n          const o = JSON.parse(JSON.stringify(staff));\n          const status = index % 2 === 0 ? TASK_STATUS.DONE.value : TASK_STATUS.NOT_YET.value;\n          o.status = status;\n          return o;\n        }),\n        note: 'Ghi chú tại đây.'\n      },\n      selectedTask: {\n        index: 0,\n        name: tasks[0],\n        workDays: [...this.createSchedule(3, 2020)]\n      },\n      selectedWorkSchedule: {\n        index: 0,\n        month: 1,\n        year: 2020,\n        workShifts: [{\n          startTime: new Date(2020, 0, 1, 7),\n          endTime: new Date(2020, 0, 1, 11),\n          description: 'Description here'\n        }, {\n          startTime: new Date(2020, 0, 1, 11),\n          endTime: new Date(2020, 0, 1, 15),\n          description: 'Description here'\n        }]\n      }\n    };\n  }\n\n  toggleTaskWorkDayPanel() {\n    const {\n      isTaskWorkDayPanelShown\n    } = this.state;\n    this.setState({\n      isTaskWorkDayPanelShown: !isTaskWorkDayPanelShown\n    });\n  }\n\n  createSchedule(month, year) {\n    const workDays = monent(`${month}-${year}`, 'MM-YYYY').daysInMonth();\n    let schedule = [];\n    let temp = [];\n\n    for (let i = 1; i <= workDays; i++) {\n      if (i % 7 !== 0) {\n        temp.push({\n          workDayInMonth: i,\n          workWeekDay: this.getWeekDay(i, month, year),\n          staffs: [...staffs],\n          note: 'Ghi chú tại đây.'\n        });\n      } else {\n        temp.push({\n          workDayInMonth: i,\n          workWeekDay: this.getWeekDay(i, month, year),\n          staffs: [...staffs],\n          note: 'Ghi chú tại đây.'\n        });\n        schedule.push([...temp]);\n        temp.length = 0;\n      }\n    }\n\n    temp.length = 0;\n\n    for (let i = 29; i <= workDays; i++) {\n      temp.push({\n        workDayInMonth: i,\n        workWeekDay: this.getWeekDay(i, month, year),\n        staffs: [...staffs],\n        note: 'Ghi chú tại đây.'\n      });\n    }\n\n    schedule.push([...temp]);\n    temp.length = 0;\n    return schedule;\n  }\n\n  getWeekDay(day, month, year) {\n    const weekDayNumber = monent(`${day}-${month}-${year}`, 'DD-MM-YYYY').day();\n\n    switch (weekDayNumber) {\n      case 1:\n        return WEEK_DAY.MONDAY;\n\n      case 2:\n        return WEEK_DAY.TUESDAY;\n\n      case 3:\n        return WEEK_DAY.WEDNESDAY;\n\n      case 4:\n        return WEEK_DAY.THURSDAY;\n\n      case 5:\n        return WEEK_DAY.FRIDAY;\n\n      case 6:\n        return WEEK_DAY.SATURDAY;\n\n      case 0:\n        return WEEK_DAY.SUNDAY;\n\n      default:\n        return null;\n    }\n  }\n\n  calculateTotalDoneDate(staffs) {\n    const notYet = _.countBy(staffs, s => s.status === TASK_STATUS.NOT_YET.value).false;\n\n    return Math.round(100 - 100 / staffs.length * (staffs.length - notYet));\n  }\n\n  getListMonths() {\n    let months = [];\n\n    for (let i = 1; i <= 12; i++) months.push({\n      text: 'Tháng ' + i,\n      value: i\n    });\n\n    return months;\n  }\n\n  getListYears() {\n    let years = [];\n\n    for (let i = 2020; i <= 2022; i++) years.push({\n      text: 'Năm ' + i,\n      value: i\n    });\n\n    return years;\n  }\n\n  handleSelectTask(name, index) {\n    const selectedTask = { ...this.state.selectedTask\n    };\n    selectedTask.name = name;\n    selectedTask.index = index;\n    this.setState({\n      selectedTask\n    });\n  }\n\n  render() {\n    let {\n      isTaskWorkDayPanelShown,\n      selectedTaskWorkDay,\n      selectedTask,\n      selectedWorkSchedule\n    } = this.state;\n    const listYears = this.getListYears();\n    return React.createElement(\"div\", {\n      className: \"work-assignment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"work-assignment__left-sidebar\",\n      span: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"animated fadeInLeft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Select, {\n      defaultValue: listYears[0].value,\n      onChange: e => console.log(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, listYears.map((y, i) => React.createElement(Option, {\n      key: i,\n      value: y.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, y.text))), React.createElement(\"div\", {\n      className: \"work-assignment__left-sidebar__list-tasks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"work-assignment__left-sidebar__list-tasks__btn-add\",\n      icon: React.createElement(PlusCircleOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Th\\xEAm l\\u1ECBch l\\xE0m vi\\u1EC7c\"), React.createElement(\"div\", {\n      className: \"work-assignment__left-sidebar__list-tasks__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"L\\u1ECBch l\\xE0m vi\\u1EC7c\")), React.createElement(List, {\n      size: \"small\",\n      bordered: true,\n      dataSource: workSchedules,\n      renderItem: (item, index) => {\n        return React.createElement(List.Item, {\n          className: `work-assignment__left-sidebar__list-tasks__item \n                        ${index === selectedTask.index ? 'work-assignment__left-sidebar__list-tasks__item--selected' : ''}`,\n          onClick: () => this.handleSelectTask(item, index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(Col, {\n          span: 24,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"work-assignment__left-sidebar__list-tasks__item__task-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, \"Th\\xE1ng \", item.month))));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      className: \"work-assignment__content animated fadeIn\",\n      span: 20,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, isTaskWorkDayPanelShown ? React.createElement(\"div\", {\n      className: \"work-assignment__content__task-work-day-panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"work-assignment__content__task-work-day-panel__panel animated slideInRight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"work-assignment__content__task-work-day-panel__panel__btn-close\",\n      shape: \"circle\",\n      icon: React.createElement(CloseOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }),\n      onClick: () => this.toggleTaskWorkDayPanel(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"work-assignment__content__task-work-day-panel__panel__main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"Th\\u1EE9 2, 01/01/2020\"), React.createElement(\"div\", {\n      className: \"work-assignment__content__task-work-day-panel__panel__main__list-staffs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 21,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"work-assignment__content__task-work-day-panel__panel__main__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Ca l\\xE0m vi\\u1EC7c trong ng\\xE0y\")), React.createElement(Col, {\n      span: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      placement: \"bottom\",\n      title: \"Th\\xEAm ca l\\xE0m vi\\u1EC7c\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"work-assignment__content__task-work-day-panel__panel__btn-open-list-staffs\",\n      type: \"link\",\n      icon: React.createElement(PlusCircleOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    })))), React.createElement(List, {\n      itemLayout: \"horizontal\",\n      dataSource: selectedWorkSchedule.workShifts,\n      renderItem: ws => React.createElement(List.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(Row, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 22,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, monent(ws.startTime).format('HH:mm'), \" - \", monent(ws.endTime).format('HH:mm')), React.createElement(Col, {\n        span: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-unassign\",\n        type: \"link\",\n        icon: React.createElement(MoreOutlined, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      })))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"Ca: 7:00 - 11:00\"), React.createElement(\"div\", {\n      className: \"work-assignment__content__task-work-day-panel__panel__main__list-staffs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 21,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"work-assignment__content__task-work-day-panel__panel__main__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Nh\\xE2n vi\\xEAn ph\\u1EE5 tr\\xE1ch (\", selectedTaskWorkDay.staffs.length, \")\")), React.createElement(Col, {\n      span: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      placement: \"bottom\",\n      title: \"Th\\xEAm nh\\xE2n vi\\xEAn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"work-assignment__content__task-work-day-panel__panel__btn-open-list-staffs\",\n      type: \"link\",\n      icon: React.createElement(UsergroupAddOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    })))), React.createElement(Input, {\n      className: \"work-assignment__content__task-work-day-panel__panel__main__list-staffs__search-input\",\n      placeholder: \"T\\xECm ki\\u1EBFm nh\\xE2n vi\\xEAn...\",\n      prefix: React.createElement(SearchOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }), React.createElement(List, {\n      itemLayout: \"horizontal\",\n      dataSource: selectedTaskWorkDay.staffs,\n      renderItem: staff => React.createElement(List.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(Row, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 22,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, React.createElement(List.Item.Meta, {\n        avatar: React.createElement(Avatar, {\n          src: require(`../../../../assets/avatars/${staff.avatar}`),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320\n          },\n          __self: this\n        }),\n        title: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321\n          },\n          __self: this\n        }, staff.name),\n        description: staff.role,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      })), React.createElement(Col, {\n        span: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        placement: \"bottom\",\n        title: \"H\\u1EE7y ph\\xE2n c\\xF4ng\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-unassign\",\n        type: \"link\",\n        icon: React.createElement(LogoutOutlined, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }))))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    })))))) : React.createElement(React.Fragment, null), React.createElement(\"div\", {\n      className: \"work-assignment__content__header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"work-assignment__content__header__dark-bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"work-assignment__content__header__task-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, \"Th\\xE1ng \", selectedWorkSchedule.month, \" n\\u0103m \", selectedWorkSchedule.year))), React.createElement(\"div\", {\n      className: \"work-assignment__content__body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      defaultActiveKey: \"1\",\n      tabBarGutter: 50,\n      className: \"work-assignment__content__body__tabs\",\n      onChange: e => console.log(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(TabPane, {\n      tab: \"L\\u1ECBch l\\xE0m vi\\u1EC7c\",\n      key: \"1\",\n      className: \"work-assignment__content__body__tabs__work-schedule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, selectedTask.workDays.map((row, iRow) => React.createElement(Row, {\n      key: iRow + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, row.map(col => React.createElement(Col, {\n      key: `${iRow + 1}_${col.workDayInMonth}`,\n      span: 3,\n      className: \"work-assignment__content__body__tabs__work-schedule__work-day animated fadeIn\",\n      onClick: () => this.toggleTaskWorkDayPanel(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: `\n                              work-assignment__content__body__tabs__work-schedule__work-day__day-in-month\n                              ${col.workWeekDay === WEEK_DAY.SUNDAY ? 'work-assignment__content__body__tabs__work-schedule__work-day__day-in-month--sunday' : ''}\n                            `,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, col.workDayInMonth), React.createElement(\"span\", {\n      className: `\n                              work-assignment__content__body__tabs__work-schedule__work-day__week-day\n                              ${col.workWeekDay === WEEK_DAY.SUNDAY ? 'work-assignment__content__body__tabs__work-schedule__work-day__week-day--sunday' : ''}\n                            `,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, col.workWeekDay), React.createElement(\"div\", {\n      className: \"work-assignment__content__body__tabs__work-schedule__work-day__staffs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, col.staffs.slice(0, 2).map(staff => React.createElement(Avatar, {\n      key: staff._id,\n      size: 16,\n      className: \"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar\",\n      src: require(`../../../../assets/avatars/${staff.avatar}`),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    })), col.staffs.length > 2 ? React.createElement(\"div\", {\n      className: \"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar--plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, \"+\", col.staffs.slice(2).length)) : React.createElement(React.Fragment, null))))))), React.createElement(TabPane, {\n      tab: \"M\\xF4 t\\u1EA3 c\\xF4ng vi\\u1EC7c\",\n      key: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, \"Content of Tab Pane 2\"))))));\n  }\n\n}","map":{"version":3,"sources":["/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/pages/Manager/WorkAssignment/WorkAssignment.js"],"names":["React","Component","Row","Col","Tabs","Select","Input","List","Avatar","Button","Tooltip","SearchOutlined","PlusCircleOutlined","CloseOutlined","LogoutOutlined","PlusCircleFilled","UsergroupAddOutlined","MoreOutlined","USER_ROLE","monent","_","WEEK_DAY","TASK_STATUS","TabPane","Option","workSchedules","month","year","tasks","staffs","_id","name","role","MANAGER","avatar","CASHIER","IMPORTER","WorkAssignment","constructor","props","state","isTaskWorkDayPanelShown","selectedTaskWorkDay","index","workDayInMonth","map","staff","o","JSON","parse","stringify","status","DONE","value","NOT_YET","note","selectedTask","workDays","createSchedule","selectedWorkSchedule","workShifts","startTime","Date","endTime","description","toggleTaskWorkDayPanel","setState","daysInMonth","schedule","temp","i","push","workWeekDay","getWeekDay","length","day","weekDayNumber","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY","calculateTotalDoneDate","notYet","countBy","s","false","Math","round","getListMonths","months","text","getListYears","years","handleSelectTask","render","listYears","e","console","log","y","item","ws","width","format","require","row","iRow","col","slice"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, Tabs, Select, Input, List, Avatar, Button, Tooltip } from 'antd';\nimport { SearchOutlined, PlusCircleOutlined, CloseOutlined, LogoutOutlined, PlusCircleFilled, UsergroupAddOutlined, MoreOutlined } from '@ant-design/icons';\nimport USER_ROLE from '../../../../constants/user-role.constant';\nimport './WorkAssignment.style.scss';\nimport * as monent from 'moment';\nimport * as _ from 'lodash';\nimport WEEK_DAY from '../../../../constants/week-day.constant';\nimport TASK_STATUS from '../../../../constants/task-status.constant';\n\nconst { TabPane } = Tabs;\nconst { Option } = Select;\n\nconst workSchedules = [\n  {\n    month: 1,\n    year: 2020\n  },\n  {\n    month: 2,\n    year: 2020\n  },\n  {\n    month: 3,\n    year: 2020\n  },\n  {\n    month: 4,\n    year: 2020\n  }\n];\n\nconst tasks = [\n  'Công việc 1',\n  'Công việc 2',\n  'Công việc 3',\n  'Công việc 4',\n  'Công việc 5',\n];\n\nconst staffs = [\n  {\n    _id: 'xxx',\n    name: 'Tue Vo',\n    role: USER_ROLE.MANAGER.name,\n    avatar: 'tue.jpeg'\n  },\n  {\n    _id: 'yyy',\n    name: 'Dung Pham',\n    role: USER_ROLE.CASHIER.name,\n    avatar: 'dung.jpg'\n  },\n  {\n    _id: 'zzz',\n    name: 'Binh Nguyen',\n    role: USER_ROLE.IMPORTER.name,\n    avatar: 'binh.jpg'\n  },\n];\n\nexport default class WorkAssignment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTaskWorkDayPanelShown: false,\n      selectedTaskWorkDay: {\n        index: 0,\n        name: 'Công việc 1',\n        workDayInMonth: 'Chủ nhật, 01/03/2020',\n        staffs: staffs.map((staff, index) => {\n          const o = JSON.parse(JSON.stringify(staff));\n          const status = index % 2 === 0 ? TASK_STATUS.DONE.value : TASK_STATUS.NOT_YET.value;\n          o.status = status;\n          return o;\n        }),\n        note: 'Ghi chú tại đây.'\n      },\n      selectedTask: {\n        index: 0,\n        name: tasks[0],\n        workDays: [...this.createSchedule(3, 2020)]\n      },\n      selectedWorkSchedule: {\n        index: 0,\n        month: 1,\n        year: 2020,\n        workShifts: [\n          {\n            startTime: new Date(2020, 0, 1, 7),\n            endTime: new Date(2020, 0, 1, 11),\n            description: 'Description here'\n          },\n          {\n            startTime: new Date(2020, 0, 1, 11),\n            endTime: new Date(2020, 0, 1, 15),\n            description: 'Description here'\n          }\n        ]\n      }\n    }\n  }\n\n  toggleTaskWorkDayPanel() {\n    const { isTaskWorkDayPanelShown } = this.state;\n    this.setState({ isTaskWorkDayPanelShown: !isTaskWorkDayPanelShown });\n  }\n\n  createSchedule(month, year) {\n    const workDays = monent(`${month}-${year}`, 'MM-YYYY').daysInMonth();\n    let schedule = [];\n    let temp = [];\n    for (let i = 1; i <= workDays; i++) {\n      if (i % 7 !== 0) {\n        temp.push({\n          workDayInMonth: i,\n          workWeekDay: this.getWeekDay(i, month, year),\n          staffs: [...staffs],\n          note: 'Ghi chú tại đây.'\n        });\n      } else {\n        temp.push({\n          workDayInMonth: i,\n          workWeekDay: this.getWeekDay(i, month, year),\n          staffs: [...staffs],\n          note: 'Ghi chú tại đây.'\n        });\n        schedule.push([...temp]);\n        temp.length = 0;\n      }\n    }\n\n    temp.length = 0;\n    for (let i = 29; i <= workDays; i++) {\n      temp.push({\n        workDayInMonth: i,\n        workWeekDay: this.getWeekDay(i, month, year),\n        staffs: [...staffs],\n        note: 'Ghi chú tại đây.'\n      });\n    }\n    schedule.push([...temp]);\n    temp.length = 0;\n\n    return schedule;\n  }\n\n  getWeekDay(day, month, year) {\n    const weekDayNumber = monent(`${day}-${month}-${year}`, 'DD-MM-YYYY').day();\n    switch (weekDayNumber) {\n      case 1: return WEEK_DAY.MONDAY;\n      case 2: return WEEK_DAY.TUESDAY;\n      case 3: return WEEK_DAY.WEDNESDAY;\n      case 4: return WEEK_DAY.THURSDAY;\n      case 5: return WEEK_DAY.FRIDAY;\n      case 6: return WEEK_DAY.SATURDAY;\n      case 0: return WEEK_DAY.SUNDAY;\n      default: return null\n    }\n  }\n\n  calculateTotalDoneDate(staffs) {\n    const notYet = _.countBy(staffs, s => s.status === TASK_STATUS.NOT_YET.value).false;\n    return Math.round(100 - (100 / staffs.length) * (staffs.length - notYet));\n  }\n\n  getListMonths() {\n    let months = [];\n    for (let i = 1; i <= 12; i++)\n      months.push({\n        text: 'Tháng ' + i,\n        value: i\n      });\n    return months;\n  }\n\n  getListYears() {\n    let years = [];\n    for (let i = 2020; i <= 2022; i++)\n      years.push({\n        text: 'Năm ' + i,\n        value: i\n      });\n    return years;\n  }\n\n  handleSelectTask(name, index) {\n    const selectedTask = { ...this.state.selectedTask };\n    selectedTask.name = name;\n    selectedTask.index = index;\n    this.setState({ selectedTask });\n  }\n\n  render() {\n    let { isTaskWorkDayPanelShown, selectedTaskWorkDay, selectedTask, selectedWorkSchedule } = this.state;\n    const listYears = this.getListYears();\n\n    return (\n      <div className=\"work-assignment\">\n        <Row>\n          <Col className=\"work-assignment__left-sidebar\" span={4}>\n            <div className=\"animated fadeInLeft\">\n              <Select defaultValue={listYears[0].value} onChange={e => console.log(e)}>\n                {listYears.map((y, i) => (\n                  <Option key={i} value={y.value}>{y.text}</Option>\n                ))}\n              </Select>\n\n              <div className=\"work-assignment__left-sidebar__list-tasks\">\n                <Button\n                  className=\"work-assignment__left-sidebar__list-tasks__btn-add\"\n                  icon={<PlusCircleOutlined />}>Thêm lịch làm việc</Button>\n\n                <div className=\"work-assignment__left-sidebar__list-tasks__title\">\n                  <span>Lịch làm việc</span>\n                </div>\n\n                <List\n                  size=\"small\"\n                  bordered\n                  dataSource={workSchedules}\n                  renderItem={(item, index) => {\n                    return (\n                      <List.Item\n                        className={\n                          `work-assignment__left-sidebar__list-tasks__item \n                        ${index === selectedTask.index ? 'work-assignment__left-sidebar__list-tasks__item--selected' : ''}`\n                        }\n                        onClick={() => this.handleSelectTask(item, index)}>\n                        <Row>\n                          <Col span={24}>\n                            <span className=\"work-assignment__left-sidebar__list-tasks__item__task-name\">Tháng {item.month}</span>\n                          </Col>\n                        </Row>\n                      </List.Item>\n                    )\n                  }}\n                />\n              </div>\n            </div>\n          </Col>\n          <Col className=\"work-assignment__content animated fadeIn\" span={20}>\n            {isTaskWorkDayPanelShown ? (\n              <div className=\"work-assignment__content__task-work-day-panel\">\n                <div className=\"work-assignment__content__task-work-day-panel__panel animated slideInRight\">\n                  <Button\n                    className=\"work-assignment__content__task-work-day-panel__panel__btn-close\"\n                    shape=\"circle\"\n                    icon={<CloseOutlined />}\n                    onClick={() => this.toggleTaskWorkDayPanel()} />\n\n                  <div className=\"work-assignment__content__task-work-day-panel__panel__main\">\n                    <h3>Thứ 2, 01/01/2020</h3>\n\n                    <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs\">\n                      <Row>\n                        <Col span={21}>\n                          <span className=\"work-assignment__content__task-work-day-panel__panel__main__title\">\n                            Ca làm việc trong ngày</span>\n                        </Col>\n                        <Col span={3}>\n                          <Tooltip placement=\"bottom\" title=\"Thêm ca làm việc\">\n                            <Button\n                              className=\"work-assignment__content__task-work-day-panel__panel__btn-open-list-staffs\"\n                              type=\"link\"\n                              icon={<PlusCircleOutlined />} />\n                          </Tooltip>\n                        </Col>\n                      </Row>\n                      <List\n                        itemLayout=\"horizontal\"\n                        dataSource={selectedWorkSchedule.workShifts}\n                        renderItem={ws => (\n                          <List.Item>\n                            <Row style={{ width: '100%' }}>\n                              <Col span={22}>\n                                {monent(ws.startTime).format('HH:mm')} - {monent(ws.endTime).format('HH:mm')}\n                              </Col>\n                              <Col span={2}>\n                                <Button\n                                  className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-unassign\"\n                                  type=\"link\"\n                                  icon={<MoreOutlined />} />\n                              </Col>\n                            </Row>\n                          </List.Item>\n                        )}\n                      />\n                    </div>\n\n                    <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts\">\n                      <h3>Ca: 7:00 - 11:00</h3>\n                      <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs\">\n                        <Row>\n                          <Col span={21}>\n                            <span className=\"work-assignment__content__task-work-day-panel__panel__main__title\">\n                              Nhân viên phụ trách ({selectedTaskWorkDay.staffs.length})</span>\n                          </Col>\n                          <Col span={3}>\n                            <Tooltip placement=\"bottom\" title=\"Thêm nhân viên\">\n                              <Button\n                                className=\"work-assignment__content__task-work-day-panel__panel__btn-open-list-staffs\"\n                                type=\"link\"\n                                icon={<UsergroupAddOutlined />} />\n                            </Tooltip>\n                          </Col>\n                        </Row>\n                        <Input\n                          className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__search-input\"\n                          placeholder=\"Tìm kiếm nhân viên...\"\n                          prefix={<SearchOutlined />} />\n                        <List\n                          itemLayout=\"horizontal\"\n                          dataSource={selectedTaskWorkDay.staffs}\n                          renderItem={staff => (\n                            <List.Item>\n                              <Row style={{ width: '100%' }}>\n                                <Col span={22}>\n                                  <List.Item.Meta\n                                    avatar={<Avatar src={require(`../../../../assets/avatars/${staff.avatar}`)} />}\n                                    title={<span>{staff.name}</span>}\n                                    description={staff.role}\n                                  />\n                                </Col>\n                                <Col span={2}>\n                                  <Tooltip placement=\"bottom\" title=\"Hủy phân công\">\n                                    <Button\n                                      className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-unassign\"\n                                      type=\"link\"\n                                      icon={<LogoutOutlined />} />\n                                  </Tooltip>\n                                </Col>\n                              </Row>\n                            </List.Item>\n                          )}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : <></>}\n            <div className=\"work-assignment__content__header\">\n              <div className=\"work-assignment__content__header__dark-bg\"></div>\n              <div className=\"work-assignment__content__header__task-name\">\n                <h3>Tháng {selectedWorkSchedule.month} năm {selectedWorkSchedule.year}</h3>\n              </div>\n            </div>\n            <div className=\"work-assignment__content__body\">\n              <Tabs\n                defaultActiveKey=\"1\"\n                tabBarGutter={50}\n                className=\"work-assignment__content__body__tabs\"\n                onChange={e => console.log(e)}>\n                <TabPane tab=\"Lịch làm việc\" key=\"1\" className=\"work-assignment__content__body__tabs__work-schedule\">\n                  {selectedTask.workDays.map((row, iRow) => (\n                    <Row key={iRow + 1}>\n                      {row.map((col) => (\n                        <Col key={`${iRow + 1}_${col.workDayInMonth}`} span={3}\n                          className=\"work-assignment__content__body__tabs__work-schedule__work-day animated fadeIn\"\n                          onClick={() => this.toggleTaskWorkDayPanel()}>\n                          <span\n                            className={`\n                              work-assignment__content__body__tabs__work-schedule__work-day__day-in-month\n                              ${col.workWeekDay === WEEK_DAY.SUNDAY ? 'work-assignment__content__body__tabs__work-schedule__work-day__day-in-month--sunday' : ''}\n                            `}>{col.workDayInMonth}</span>\n                          <span\n                            className={`\n                              work-assignment__content__body__tabs__work-schedule__work-day__week-day\n                              ${col.workWeekDay === WEEK_DAY.SUNDAY ? 'work-assignment__content__body__tabs__work-schedule__work-day__week-day--sunday' : ''}\n                            `}>{col.workWeekDay}</span>\n                          <div className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs\">\n                            {col.staffs.slice(0, 2).map(staff => (\n                              <Avatar\n                                key={staff._id}\n                                size={16}\n                                className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar\"\n                                src={require(`../../../../assets/avatars/${staff.avatar}`)} />))}\n                            {col.staffs.length > 2 ? (\n                              <div className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar--plus\">\n                                <span>+{col.staffs.slice(2).length}</span>\n                              </div>\n                            ) : <></>}\n                          </div>\n                        </Col>\n                      ))}\n                    </Row>\n                  ))}\n                </TabPane>\n                <TabPane tab=\"Mô tả công việc\" key=\"2\">\n                  Content of Tab Pane 2\n                </TabPane>\n              </Tabs>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}