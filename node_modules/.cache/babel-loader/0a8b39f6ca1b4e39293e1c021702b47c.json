{"ast":null,"code":"var _jsxFileName = \"/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/pages/Manager/ImportingRequest/SupplierManagement/SupplierManagement.js\";\nimport React from 'react';\nimport { Row, Col, Input, Empty, Button, Divider, List, message } from 'antd';\nimport { SearchOutlined, PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport './SupplierManagement.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../redux/actions';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\n\nclass SupplierManagement extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      suppliersDataSource: [],\n      filteredSuppliers: [],\n      selectedSupplier: {},\n      supplierSearchText: ''\n    };\n  }\n\n  componentDidMount() {\n    this.loadSuppliers();\n  }\n\n  async loadSuppliers() {\n    this.props.setAppLoading(true);\n    const res = await (await fetch(API.Manager.SupplierManagment.getSuppliers, {\n      method: 'GET',\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n        'token': this.props.cookies.get(COOKIE_NAMES.token)\n      },\n      signal: this.abortController.signal\n    })).json();\n    this.props.setAppLoading(false);\n\n    if (res.status !== 200) {\n      message.error(res.errors[0]);\n      return;\n    }\n\n    this.setState({\n      suppliersDataSource: res.data.suppliers\n    });\n  }\n\n  onSupplierSearchInputChange(text, suppliersDataSource) {\n    this.setState({\n      supplierSearchText: text\n    });\n    let {\n      filteredSuppliers\n    } = this.state;\n\n    if (!text) {\n      filteredSuppliers = [...suppliersDataSource];\n    } else {\n      filteredSuppliers = suppliersDataSource.filter(s => {\n        const searchKeys = Object.keys(s).filter(k => ['name'].includes(k));\n\n        for (const k of searchKeys) {\n          if (s[k].toLowerCase().includes(text.toLowerCase())) return true;\n        }\n\n        return false;\n      });\n    }\n\n    this.setState({\n      filteredSuppliers,\n      selectedSupplier: filteredSuppliers.length > 0 ? filteredSuppliers[0] : {}\n    });\n  }\n\n  render() {\n    const {\n      filteredSuppliers\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"importing-request__container__suppliers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"importing-request__container__suppliers__header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"importing-request__container__suppliers__header__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Nh\\xE0 cung c\\u1EA5p s\\u1EA3n ph\\u1EA9m\")), React.createElement(\"div\", {\n      className: \"importing-request__container__suppliers__toolbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 21,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Input, {\n      prefix: React.createElement(SearchOutlined, {\n        style: {\n          marginRight: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }),\n      placeholder: \"T\\xECm ki\\u1EBFm theo t\\xEAn, \\u0111\\u1ECBa ch\\u1EC9, \\u0111i\\u1EC7n tho\\u1EA1i...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(Col, {\n      span: 3,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Button, {\n      icon: React.createElement(PlusOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }),\n      className: \"importing-request__container__suppliers__toolbar__btn-add-supplier\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"importing-request__container__suppliers__list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(List, {\n      size: \"small\",\n      dataSource: filteredSuppliers,\n      renderItem: s => React.createElement(List.Item, {\n        key: s._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, s.name),\n      locale: {\n        emptyText: React.createElement(Empty, {\n          image: Empty.PRESENTED_IMAGE_SIMPLE,\n          description: \"Ch\\u01B0a c\\xF3 d\\u1EEF li\\u1EC7u\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        })\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"importing-request__container__suppliers__details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"importing-request__container__suppliers__details__header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"importing-request__container__suppliers__details__header__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Th\\xF4ng tin li\\xEAn h\\u1EC7\"), React.createElement(\"div\", {\n      className: \"importing-request__container__suppliers__details__header__toolbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Button, {\n      shape: \"circle\",\n      icon: React.createElement(EditOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }),\n      className: \"importing-request__container__suppliers__details__header__toolbar__btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(Button, {\n      shape: \"circle\",\n      icon: React.createElement(DeleteOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }),\n      className: \"importing-request__container__suppliers__details__header__toolbar__btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"importing-request__container__suppliers__details__content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"importing-request__container__suppliers__details__content__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Th\\u01B0\\u01A1ng hi\\u1EC7u\")), React.createElement(Col, {\n      span: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Vinamilk\")), React.createElement(Row, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"importing-request__container__suppliers__details__content__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\")), React.createElement(Col, {\n      span: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"0999999999\")), React.createElement(Row, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"importing-request__container__suppliers__details__content__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"\\u0110\\u1ECBa ch\\u1EC9\")), React.createElement(Col, {\n      span: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"31 V\\xF5 V\\u0103n T\\u1EA7n, Ph\\u01B0\\u1EDDng 6, Qu\\u1EADn 3, TP.HCM\")), React.createElement(\"iframe\", {\n      title: \"supplier map\",\n      src: \"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.4354306193154!2d106.68967831525073!3d10.77792426211209!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752f3a6fbd987f%3A0xe6553f3f2872c3db!2zMzEgVsO1IFbEg24gVOG6p24sIFBoxrDhu51uZyA2LCBRdeG6rW4gMywgSOG7kyBDaMOtIE1pbmgsIFZp4buHdCBOYW0!5e0!3m2!1svi!2s!4v1586275303962!5m2!1svi!2s\",\n      width: 600,\n      height: 450,\n      frameBorder: 0,\n      style: {\n        border: 0\n      },\n      allowFullScreen: true,\n      \"aria-hidden\": \"false\",\n      tabIndex: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default connect(null, actions)(withCookies(SupplierManagement));","map":{"version":3,"sources":["/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/pages/Manager/ImportingRequest/SupplierManagement/SupplierManagement.js"],"names":["React","Row","Col","Input","Empty","Button","Divider","List","message","SearchOutlined","PlusOutlined","EditOutlined","DeleteOutlined","connect","withCookies","actions","PageBase","API","COOKIE_NAMES","SupplierManagement","constructor","props","state","suppliersDataSource","filteredSuppliers","selectedSupplier","supplierSearchText","componentDidMount","loadSuppliers","setAppLoading","res","fetch","Manager","SupplierManagment","getSuppliers","method","headers","cookies","get","token","signal","abortController","json","status","error","errors","setState","data","suppliers","onSupplierSearchInputChange","text","filter","s","searchKeys","Object","keys","k","includes","toLowerCase","length","render","width","marginRight","_id","name","emptyText","PRESENTED_IMAGE_SIMPLE","border"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Row, Col, Input, Empty, Button, Divider, List, message } from 'antd';\nimport { SearchOutlined, PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport './SupplierManagement.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../redux/actions';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\n\nclass SupplierManagement extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      suppliersDataSource: [],\n      filteredSuppliers: [],\n      selectedSupplier: {},\n      supplierSearchText: ''\n    }\n  }\n\n  componentDidMount() {\n    this.loadSuppliers();\n  }\n\n  async loadSuppliers() {\n    this.props.setAppLoading(true);\n    const res = await (\n      await fetch(\n        API.Manager.SupplierManagment.getSuppliers,\n        {\n          method: 'GET',\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'token': this.props.cookies.get(COOKIE_NAMES.token)\n          },\n          signal: this.abortController.signal\n        }\n      )\n    ).json();\n\n    this.props.setAppLoading(false);\n    if (res.status !== 200) {\n      message.error(res.errors[0]);\n      return;\n    }\n\n    this.setState({ suppliersDataSource: res.data.suppliers });\n  }\n\n  onSupplierSearchInputChange(text, suppliersDataSource) {\n    this.setState({ supplierSearchText: text });\n\n    let { filteredSuppliers } = this.state;\n    if (!text) {\n      filteredSuppliers = [...suppliersDataSource];\n    } else {\n      filteredSuppliers = suppliersDataSource.filter(s => {\n        const searchKeys = Object.keys(s).filter(k => ['name'].includes(k));\n        for (const k of searchKeys) {\n          if (s[k].toLowerCase().includes(text.toLowerCase()))\n            return true;\n        }\n        return false;\n      })\n    }\n\n    this.setState({\n      filteredSuppliers,\n      selectedSupplier: filteredSuppliers.length > 0 ? filteredSuppliers[0] : {}\n    });\n  }\n\n  render() {\n    const { filteredSuppliers } = this.state;\n    return (\n      <div className=\"importing-request__container__suppliers\">\n        <div className=\"importing-request__container__suppliers__header\">\n          <span className=\"importing-request__container__suppliers__header__title\">\n            Nhà cung cấp sản phẩm\n          </span>\n        </div>\n        <div className=\"importing-request__container__suppliers__toolbar\">\n          <Row style={{ width: '100%' }}>\n            <Col span={21}>\n              <Input\n                prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                placeholder=\"Tìm kiếm theo tên, địa chỉ, điện thoại...\" />\n            </Col>\n            <Col span={3} align=\"center\">\n              <Button\n                icon={<PlusOutlined />}\n                className=\"importing-request__container__suppliers__toolbar__btn-add-supplier\"\n              />\n            </Col>\n          </Row>\n        </div>\n        <div className=\"importing-request__container__suppliers__list\">\n          <List\n            size=\"small\"\n            dataSource={filteredSuppliers}\n            renderItem={s => (\n              <List.Item key={s._id}>{s.name}</List.Item>\n            )}\n            locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n          />\n        </div>\n        <div className=\"importing-request__container__suppliers__details\">\n          <div className=\"importing-request__container__suppliers__details__header\">\n            <span className=\"importing-request__container__suppliers__details__header__title\">\n              Thông tin liên hệ\n                    </span>\n            <div className=\"importing-request__container__suppliers__details__header__toolbar\">\n              <Button\n                shape=\"circle\"\n                icon={<EditOutlined />}\n                className=\"importing-request__container__suppliers__details__header__toolbar__btn\"\n              />\n\n              <Button\n                shape=\"circle\"\n                icon={<DeleteOutlined />}\n                className=\"importing-request__container__suppliers__details__header__toolbar__btn\"\n              />\n            </div>\n          </div>\n          <Divider />\n          <div className=\"importing-request__container__suppliers__details__content\">\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Thương hiệu\n                        </span>\n              </Col>\n              <Col span={18}>Vinamilk</Col>\n            </Row>\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Số điện thoại\n                        </span>\n              </Col>\n              <Col span={18}>0999999999</Col>\n            </Row>\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Địa chỉ\n                        </span>\n              </Col>\n              <Col span={18}>31 Võ Văn Tần, Phường 6, Quận 3, TP.HCM</Col>\n            </Row>\n\n            <iframe\n              title=\"supplier map\"\n              src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.4354306193154!2d106.68967831525073!3d10.77792426211209!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752f3a6fbd987f%3A0xe6553f3f2872c3db!2zMzEgVsO1IFbEg24gVOG6p24sIFBoxrDhu51uZyA2LCBRdeG6rW4gMywgSOG7kyBDaMOtIE1pbmgsIFZp4buHdCBOYW0!5e0!3m2!1svi!2s!4v1586275303962!5m2!1svi!2s\" width={600} height={450} frameBorder={0} style={{ border: 0 }} allowFullScreen aria-hidden=\"false\" tabIndex={0} />\n\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(SupplierManagement));"]},"metadata":{},"sourceType":"module"}