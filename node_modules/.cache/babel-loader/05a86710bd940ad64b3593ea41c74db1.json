{"ast":null,"code":"var _jsxFileName = \"/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/pages/User/ChangePassword/ChangePassword.js\";\nimport React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport { LockFilled } from '@ant-design/icons';\nimport './ChangePassword.style.scss';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../redux/actions';\nimport { connect } from 'react-redux';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\n\nclass ChangePassword extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.onFinish = async values => {\n      this.props.setAppLoading(true);\n      const params = { ...values\n      };\n      const res = await (await fetch(API.User.changePassword, {\n        method: 'PUT',\n        body: JSON.stringify(params),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'token': this.props.cookies.get(COOKIE_NAMES.token)\n        },\n        signal: this.abortController.signal\n      })).json();\n      this.props.setAppLoading(false);\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.formRef.current.resetFields();\n      message.success(res.messages[0]);\n    };\n\n    this.formRef = React.createRef();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"change-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"change-password__content animated fadeInRight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"change-password__content__div-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"change-password__content__div-icon__icon-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(Form, Object.assign({}, layout, {\n      ref: this.formRef,\n      onFinish: values => this.onFinish(values),\n      onFinishFailed: () => message.error('Vui lòng kiểm tra lại thông tin'),\n      className: \"change-password__content__form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      label: \"M\\u1EADt kh\\u1EA9u hi\\u1EC7n t\\u1EA1i\",\n      name: \"currentPassword\",\n      rules: [{\n        required: true,\n        message: 'Vui lòng nhập mật khẩu hiện tại'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Input.Password, {\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n      name: \"newPassword\",\n      rules: [{\n        required: true,\n        message: 'Vui lòng nhập mật khẩu mới'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Input.Password, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\",\n      name: \"confirmedNewPassword\",\n      rules: [{\n        required: true,\n        message: 'Vui lòng nhập lại mật khẩu mới'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Input.Password, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(Form.Item, Object.assign({}, tailLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Button, {\n      htmlType: \"submit\",\n      className: \"change-password__content__form__btn-submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\")))));\n  }\n\n}\n\nexport default connect(null, actions)(withCookies(ChangePassword));","map":{"version":3,"sources":["/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/pages/User/ChangePassword/ChangePassword.js"],"names":["React","Form","Input","Button","message","LockFilled","API","COOKIE_NAMES","withCookies","actions","connect","PageBase","layout","labelCol","span","wrapperCol","tailLayout","offset","ChangePassword","constructor","props","onFinish","values","setAppLoading","params","res","fetch","User","changePassword","method","body","JSON","stringify","headers","cookies","get","token","signal","abortController","json","status","error","errors","formRef","current","resetFields","success","messages","createRef","render","required"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport { LockFilled } from '@ant-design/icons'\nimport './ChangePassword.style.scss';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../redux/actions';\nimport { connect } from 'react-redux';\nimport PageBase from '../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nclass ChangePassword extends PageBase {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n  }\n\n  onFinish = async (values) => {\n    this.props.setAppLoading(true);\n    const params = { ...values };\n    const res = await (\n      await fetch(\n        API.User.changePassword,\n        {\n          method: 'PUT',\n          body: JSON.stringify(params),\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'token': this.props.cookies.get(COOKIE_NAMES.token)\n          },\n          signal: this.abortController.signal\n        }\n      )\n    ).json();\n\n    this.props.setAppLoading(false);\n\n    if (res.status !== 200) {\n      message.error(res.errors[0]);\n      return;\n    }\n\n    this.formRef.current.resetFields();\n    message.success(res.messages[0]);\n  }\n\n  render() {\n    return (\n      <div className=\"change-password\">\n        <div className=\"change-password__content animated fadeInRight\">\n          <div className=\"change-password__content__div-icon\">\n            <div className=\"change-password__content__div-icon__icon-wrapper\">\n              {/* <LockFilled className=\"change-password__content__div-icon__icon-wrapper__icon\" /> */}\n            </div>\n          </div>\n          <Form\n            {...layout}\n            ref={this.formRef}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Vui lòng kiểm tra lại thông tin')}\n            className=\"change-password__content__form\"\n          >\n            <Form.Item\n              label=\"Mật khẩu hiện tại\"\n              name=\"currentPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mật khẩu hiện tại',\n                },\n              ]}\n            >\n              <Input.Password autoFocus={true} />\n            </Form.Item>\n\n            <Form.Item\n              label=\"Mật khẩu mới\"\n              name=\"newPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mật khẩu mới',\n                },\n              ]}\n            >\n              <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n              label=\"Nhập lại mật khẩu\"\n              name=\"confirmedNewPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập lại mật khẩu mới',\n                },\n              ]}\n            >\n              <Input.Password />\n            </Form.Item>\n\n            <Form.Item {...tailLayout}>\n              <Button htmlType=\"submit\" className=\"change-password__content__form__btn-submit\">\n                Đổi mật khẩu\n              </Button>\n            </Form.Item>\n          </Form>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ChangePassword));"]},"metadata":{},"sourceType":"module"}