{"ast":null,"code":"var _jsxFileName = \"/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/layout/Sidebar/Sidebar.js\";\nimport React, { Component } from 'react';\nimport { Layout, Menu } from 'antd';\nimport { Link, withRouter } from 'react-router-dom';\nimport './Sidebar.style.scss';\nimport UserInfo from './UserInfo/UserInfo';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../redux/actions';\nconst {\n  Sider\n} = Layout;\n\nclass Sidebar extends Component {\n  componentWillMount() {\n    const {\n      pagesByUserRole\n    } = this.props;\n    const href = window.location.href.split('?')[0];\n    const position = href.split('/');\n    const currentPath = position[position.length - 1];\n    pagesByUserRole.forEach((page, index) => {\n      if (page.path === `/${currentPath}`) {\n        this.pageIndex = index.toString();\n        const currentPage = pagesByUserRole[this.pageIndex];\n        this.props.setCurrentPageTitle(currentPage.title, currentPage.icon);\n      }\n    });\n\n    if (!this.pageIndex) {\n      this.pageIndex = '0';\n      const {\n        title,\n        icon,\n        path\n      } = pagesByUserRole[this.pageIndex];\n      this.props.history.push(path);\n      this.props.setCurrentPageTitle(title, icon);\n    }\n  }\n\n  render() {\n    const {\n      user,\n      pagesByUserRole\n    } = this.props;\n    return React.createElement(Sider, {\n      className: \"sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(UserInfo, {\n      user: user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(Menu, {\n      theme: \"light\",\n      mode: \"inline\",\n      defaultSelectedKeys: [this.pageIndex],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, pagesByUserRole.map((page, pageIndex) => {\n      const Page = {\n        Icon: page.icon\n      };\n      return React.createElement(Menu.Item, {\n        key: pageIndex,\n        className: \"animated slideInLeft\",\n        onClick: () => {\n          this.props.setCurrentPageTitle(page.title, page.icon, pageIndex);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Page.Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"nav-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, page.title), React.createElement(Link, {\n        to: page.path,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }));\n    })));\n  }\n\n}\n\nexport default connect(null, actions)(withRouter(Sidebar));","map":{"version":3,"sources":["/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/layout/Sidebar/Sidebar.js"],"names":["React","Component","Layout","Menu","Link","withRouter","UserInfo","connect","actions","Sider","Sidebar","componentWillMount","pagesByUserRole","props","href","window","location","split","position","currentPath","length","forEach","page","index","path","pageIndex","toString","currentPage","setCurrentPageTitle","title","icon","history","push","render","user","map","Page","Icon"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Layout, Menu } from 'antd';\nimport { Link, withRouter } from 'react-router-dom';\nimport './Sidebar.style.scss';\nimport UserInfo from './UserInfo/UserInfo';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../redux/actions';\n\nconst { Sider } = Layout;\n\nclass Sidebar extends Component {\n  pageIndex;\n\n  componentWillMount() {\n    const { pagesByUserRole } = this.props;\n    const href = window.location.href.split('?')[0];\n    const position = href.split('/');\n    const currentPath = position[position.length - 1];\n\n    pagesByUserRole.forEach((page, index) => {\n      if (page.path === `/${currentPath}`) {\n        this.pageIndex = index.toString();\n        const currentPage = pagesByUserRole[this.pageIndex];\n        this.props.setCurrentPageTitle(currentPage.title, currentPage.icon);\n      }\n    });\n\n    if (!this.pageIndex) {\n      this.pageIndex = '0';\n      const { title, icon, path } = pagesByUserRole[this.pageIndex];\n      this.props.history.push(path);\n      this.props.setCurrentPageTitle(title, icon);\n    }\n  }\n\n  render() {\n    const { user, pagesByUserRole } = this.props;\n\n    return (\n      <Sider className=\"sidebar\">\n        <UserInfo user={user} />\n        <Menu theme='light' mode='inline' defaultSelectedKeys={[this.pageIndex]}>\n          {pagesByUserRole.map((page, pageIndex) => {\n            const Page = { Icon: page.icon };\n            return (\n              <Menu.Item key={pageIndex} className=\"animated slideInLeft\"\n                onClick={() => { this.props.setCurrentPageTitle(page.title, page.icon, pageIndex) }}>\n                <Page.Icon />\n                <span className='nav-text'>{page.title}</span>\n                <Link to={page.path} />\n              </Menu.Item>\n            )\n          })}\n        </Menu>\n      </Sider>\n    )\n  }\n}\nexport default connect(null, actions)(withRouter(Sidebar));"]},"metadata":{},"sourceType":"module"}