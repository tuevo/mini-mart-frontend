{"ast":null,"code":"var _jsxFileName = \"/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/pages/Cashier/MoneyCounting/MoneyCounting.js\";\nimport React from 'react';\nimport './MoneyCounting.style.scss';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { withCookies } from 'react-cookie';\nimport QrReader from 'react-qr-reader';\nimport { Row, Col, Empty, notification, Button, Tooltip, Table, Modal } from 'antd';\nimport { ReloadOutlined, ShoppingCartOutlined, RightOutlined, QuestionCircleOutlined, ArrowLeftOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\nimport NumberFormat from 'react-number-format';\nimport checkoutSound from '../../../../assets/sounds/cashing.wav'; // import moment from 'moment';\n\nconst {\n  confirm\n} = Modal;\nconst columns = [{\n  title: React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, \"STT\"),\n  dataIndex: 'order',\n  key: 'order',\n  width: 80,\n  render: order => React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, order)\n}, {\n  title: 'Sản phẩm',\n  dataIndex: 'name',\n  key: 'name',\n  render: (text, record) => React.createElement(\"div\", {\n    className: \"money-counting__panel__right__shopping-cart__list-products__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, record.image ? React.createElement(\"img\", {\n    src: record.image,\n    alt: \"product\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }) : React.createElement(QuestionCircleOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"money-counting__panel__right__shopping-cart__list-products__item__name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, text))\n}, {\n  title: 'Giá bán',\n  dataIndex: 'price',\n  key: 'price',\n  width: 150,\n  render: text => React.createElement(NumberFormat, {\n    value: Number(text),\n    displayType: \"text\",\n    thousandSeparator: true,\n    suffix: \" VN\\u0110\",\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  })\n}, {\n  title: 'Danh mục',\n  dataIndex: 'category',\n  key: 'category'\n}, {\n  title: 'Nhà cung cấp',\n  dataIndex: 'supplier',\n  key: 'supplier'\n}];\n\nclass MoneyCounting extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.openNotificationWithIcon = (type, message, description) => {\n      notification[type]({\n        message,\n        description\n      });\n    };\n\n    this.handleScan = data => {\n      if (data) {\n        this.playCheckoutSound();\n        const productDetails = JSON.parse(data);\n        this.openNotificationWithIcon('success', `${productDetails.name}`, '');\n        let {\n          checkedOutProducts,\n          priceTotal\n        } = this.state;\n        checkedOutProducts.push({\n          key: productDetails._id,\n          order: checkedOutProducts.length + 1,\n          name: productDetails.name,\n          price: productDetails.price,\n          category: productDetails.category.name,\n          supplier: productDetails.supplier.name,\n          image: productDetails.image\n        });\n        priceTotal = checkedOutProducts.reduce((pre, cur) => {\n          return pre + cur.price;\n        }, 0);\n        this.setState({\n          scannedProduct: { ...productDetails\n          },\n          checkedOutProducts,\n          priceTotal\n        });\n      }\n    };\n\n    this.handleError = error => {\n      if (error) {\n        this.openNotificationWithIcon('error', 'Chưa tìm thấy sản phẩm', '');\n      }\n    };\n\n    this.state = {\n      scannedProduct: null,\n      checkedOutProducts: [],\n      priceTotal: 0,\n      onWorking: true\n    };\n    this.soundRef = React.createRef();\n  }\n\n  clearScannedProduct() {\n    this.setState({\n      scannedProduct: null\n    });\n  }\n\n  playCheckoutSound() {\n    this.soundRef.play();\n  }\n\n  setOnWorking(onWorking) {\n    this.setState({\n      onWorking\n    });\n    this.props.setOnWorking(onWorking);\n  }\n\n  backToGettingStarted() {\n    const that = this;\n    confirm({\n      title: `Đang thao tác, bạn có muốn rời khỏi?`,\n      icon: React.createElement(ExclamationCircleOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }),\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n\n      onOk() {\n        that.setOnWorking(false);\n        that.props.setOnWorking(false);\n      }\n\n    });\n  }\n\n  render() {\n    const {\n      scannedProduct,\n      checkedOutProducts,\n      priceTotal,\n      onWorking\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"money-counting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, !onWorking ? React.createElement(\"div\", {\n      className: \"money-counting__getting-started animated fadeIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__getting-started__dark-cover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"submit\",\n      className: \"money-counting__getting-started__btn-start animated bounceInUp\",\n      onClick: () => this.setOnWorking(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"B\\u1EAFt \\u0111\\u1EA7u t\\xEDnh ti\\u1EC1n\")) : React.createElement(\"div\", {\n      style: {\n        height: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"audio\", {\n      ref: ref => {\n        this.soundRef = ref;\n      },\n      src: checkoutSound,\n      controls: true,\n      autoPlay: true,\n      style: {\n        display: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"money-counting__panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__panel__left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__panel__left__header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Button, {\n      shape: \"circle\",\n      icon: React.createElement(ArrowLeftOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }),\n      className: \"money-counting__panel__left__header__btn-back\",\n      onClick: () => this.backToGettingStarted(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"money-counting__panel__left__header__company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"money-counting__panel__left__header__company__logo\",\n      src: require('../../../../assets/images/app-logo.png'),\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"money-counting__panel__left__header__company__brand\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__panel__left__header__company__brand__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Mini Mart\")), React.createElement(\"div\", {\n      className: \"money-counting__panel__left__header__company__brand__slogan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Ti\\u1EC7n L\\u1EE3i m\\xE0 Ch\\u1EA5t L\\u01B0\\u1EE3ng\"))))), React.createElement(\"div\", {\n      className: \"money-counting__panel__left__product-scanning animated fadeIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(QrReader, {\n      delay: 1500,\n      onError: error => this.handleError(error),\n      onScan: data => this.handleScan(data),\n      className: \"money-counting__panel__left__product-scanning__scanner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"money-counting__panel__left__product-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Row, {\n      align: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 21,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"S\\u1EA3n ph\\u1EA9m \\u0111\\xE3 qu\\xE9t\")), React.createElement(Col, {\n      span: 3,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      title: \"L\\xE0m m\\u1EDBi\",\n      placement: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(Button, {\n      shape: \"circle\",\n      icon: React.createElement(ReloadOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }),\n      className: \"money-counting__panel__left__product-details__btn-clear\",\n      onClick: () => this.clearScannedProduct(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    })))), scannedProduct ? React.createElement(Row, {\n      gutter: 20,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"money-counting__panel__left__product-details__labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Gi\\xE1 b\\xE1n\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Th\\u1EC3 lo\\u1EA1i\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Nh\\xE0 ph\\xE2n ph\\u1ED1i\"))), React.createElement(Col, {\n      span: 16,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"money-counting__panel__left__product-details__texts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, scannedProduct.name), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(NumberFormat, {\n      value: scannedProduct.price,\n      displayType: \"text\",\n      thousandSeparator: true,\n      suffix: \" VN\\u0110\",\n      style: {\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, scannedProduct.category.name), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, scannedProduct.supplier.name)))) : React.createElement(Empty, {\n      image: Empty.PRESENTED_IMAGE_SIMPLE,\n      description: \"Ch\\u01B0a t\\xECm th\\u1EA5y\",\n      className: \"money-counting__panel__left__product-details__empty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__panel__right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__panel__right__header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"money-counting__panel__right__header__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__panel__right__header__title__icon-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(ShoppingCartOutlined, {\n      className: \"money-counting__panel__right__header__title__icon-wrapper__icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Gi\\u1ECF h\\xE0ng c\\u1EE7a kh\\xE1ch\"))), React.createElement(Col, {\n      span: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__panel__right__header__btn-done-checkout-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"money-counting__panel__right__header__btn-done-checkout-wrapper__btn\",\n      type: \"primary\",\n      disabled: checkedOutProducts.length === 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        marginRight: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"Xu\\u1EA5t h\\xF3a \\u0111\\u01A1n\"), React.createElement(RightOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"money-counting__panel__right__shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"money-counting__panel__right__shopping-cart__list-products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(Table, {\n      dataSource: [...checkedOutProducts],\n      columns: columns,\n      pagination: false,\n      scroll: {\n        y: 355\n      },\n      locale: {\n        emptyText: React.createElement(Empty, {\n          image: Empty.PRESENTED_IMAGE_SIMPLE,\n          description: \"Ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        })\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"money-counting__panel__right__shopping-cart__details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(Row, {\n      gutter: 20,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"money-counting__panel__right__shopping-cart__details__labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"S\\u1ED1 l\\u01B0\\u1EE3ng s\\u1EA3n ph\\u1EA9m\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"T\\u1ED5ng ti\\u1EC1n\"))), React.createElement(Col, {\n      span: 19,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, checkedOutProducts.length), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(NumberFormat, {\n      value: priceTotal,\n      displayType: \"text\",\n      thousandSeparator: true,\n      suffix: \" VN\\u0110\",\n      className: \"money-counting__panel__right__shopping-cart__details__price-total\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    })))))))))))));\n  }\n\n}\n\nexport default withCookies(MoneyCounting);","map":{"version":3,"sources":["/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/pages/Cashier/MoneyCounting/MoneyCounting.js"],"names":["React","PageBase","withCookies","QrReader","Row","Col","Empty","notification","Button","Tooltip","Table","Modal","ReloadOutlined","ShoppingCartOutlined","RightOutlined","QuestionCircleOutlined","ArrowLeftOutlined","ExclamationCircleOutlined","NumberFormat","checkoutSound","confirm","columns","title","dataIndex","key","width","render","order","text","record","image","Number","fontWeight","MoneyCounting","constructor","props","openNotificationWithIcon","type","message","description","handleScan","data","playCheckoutSound","productDetails","JSON","parse","name","checkedOutProducts","priceTotal","state","push","_id","length","price","category","supplier","reduce","pre","cur","setState","scannedProduct","handleError","error","onWorking","soundRef","createRef","clearScannedProduct","play","setOnWorking","backToGettingStarted","that","icon","content","okText","okType","cancelText","onOk","height","ref","display","require","PRESENTED_IMAGE_SIMPLE","marginRight","y","emptyText"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './MoneyCounting.style.scss';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { withCookies } from 'react-cookie';\nimport QrReader from 'react-qr-reader';\nimport { Row, Col, Empty, notification, Button, Tooltip, Table, Modal } from 'antd';\nimport { ReloadOutlined, ShoppingCartOutlined, RightOutlined, QuestionCircleOutlined, ArrowLeftOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\nimport NumberFormat from 'react-number-format';\nimport checkoutSound from '../../../../assets/sounds/cashing.wav';\n// import moment from 'moment';\n\nconst { confirm } = Modal;\n\nconst columns = [\n  {\n    title: <center>STT</center>,\n    dataIndex: 'order',\n    key: 'order',\n    width: 80,\n    render: order => <center>{order}</center>\n  },\n  {\n    title: 'Sản phẩm',\n    dataIndex: 'name',\n    key: 'name',\n    render: (text, record) => (\n      <div className=\"money-counting__panel__right__shopping-cart__list-products__item\">\n        {record.image ? (<img src={record.image} alt=\"product\" />) : (<QuestionCircleOutlined />)}\n        <span className=\"money-counting__panel__right__shopping-cart__list-products__item__name\">{text}</span>\n      </div>\n    )\n  },\n  {\n    title: 'Giá bán',\n    dataIndex: 'price',\n    key: 'price',\n    width: 150,\n    render: (text) => (\n      <NumberFormat\n        value={Number(text)}\n        displayType=\"text\"\n        thousandSeparator={true}\n        suffix=\" VNĐ\"\n        style={{ fontWeight: 'bold' }}\n      />\n    )\n  },\n  {\n    title: 'Danh mục',\n    dataIndex: 'category',\n    key: 'category',\n  },\n  {\n    title: 'Nhà cung cấp',\n    dataIndex: 'supplier',\n    key: 'supplier',\n  }\n];\n\nclass MoneyCounting extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scannedProduct: null,\n      checkedOutProducts: [],\n      priceTotal: 0,\n      onWorking: true\n    }\n    this.soundRef = React.createRef();\n  }\n\n  openNotificationWithIcon = (type, message, description) => {\n    notification[type]({\n      message,\n      description\n    });\n  };\n\n  handleScan = data => {\n    if (data) {\n      this.playCheckoutSound();\n      const productDetails = JSON.parse(data);\n      this.openNotificationWithIcon('success', `${productDetails.name}`, '');\n\n      let { checkedOutProducts, priceTotal } = this.state;\n      checkedOutProducts.push({\n        key: productDetails._id,\n        order: checkedOutProducts.length + 1,\n        name: productDetails.name,\n        price: productDetails.price,\n        category: productDetails.category.name,\n        supplier: productDetails.supplier.name,\n        image: productDetails.image\n      });\n\n      priceTotal = checkedOutProducts.reduce((pre, cur) => {\n        return pre + cur.price;\n      }, 0);\n\n      this.setState({\n        scannedProduct: { ...productDetails },\n        checkedOutProducts,\n        priceTotal\n      });\n    }\n  }\n\n  handleError = error => {\n    if (error) {\n      this.openNotificationWithIcon('error', 'Chưa tìm thấy sản phẩm', '');\n    }\n  }\n\n  clearScannedProduct() {\n    this.setState({ scannedProduct: null });\n  }\n\n  playCheckoutSound() {\n    this.soundRef.play();\n  }\n\n  setOnWorking(onWorking) {\n    this.setState({ onWorking });\n    this.props.setOnWorking(onWorking);\n  }\n\n  backToGettingStarted() {\n    const that = this;\n    confirm({\n      title: `Đang thao tác, bạn có muốn rời khỏi?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      onOk() {\n        that.setOnWorking(false);\n        that.props.setOnWorking(false);\n      }\n    });\n  }\n\n  render() {\n    const { scannedProduct, checkedOutProducts, priceTotal, onWorking } = this.state;\n\n    return (\n      <div className=\"money-counting\">\n        {!onWorking ? (\n          <div className=\"money-counting__getting-started animated fadeIn\">\n            <div className=\"money-counting__getting-started__dark-cover\"></div>\n            <Button\n              type=\"submit\"\n              className=\"money-counting__getting-started__btn-start animated bounceInUp\"\n              onClick={() => this.setOnWorking(true)}\n            >Bắt đầu tính tiền</Button>\n          </div>\n        ) : (\n            <div style={{ height: '100%' }}>\n              <audio ref={ref => { this.soundRef = ref; }} src={checkoutSound} controls autoPlay style={{ display: 'none' }} />\n              <div className=\"money-counting__panel\">\n                <Row>\n                  <Col span={6}>\n                    <div className=\"money-counting__panel__left\">\n                      <div className=\"money-counting__panel__left__header\">\n                        <Button\n                          shape=\"circle\"\n                          icon={<ArrowLeftOutlined />}\n                          className=\"money-counting__panel__left__header__btn-back\"\n                          onClick={() => this.backToGettingStarted()}\n                        />\n                        <div className=\"money-counting__panel__left__header__company\">\n                          <img className=\"money-counting__panel__left__header__company__logo\" src={require('../../../../assets/images/app-logo.png')} alt=\"logo\" />\n                          <div className=\"money-counting__panel__left__header__company__brand\">\n                            <div className=\"money-counting__panel__left__header__company__brand__name\"><span>Mini Mart</span></div>\n                            <div className=\"money-counting__panel__left__header__company__brand__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"money-counting__panel__left__product-scanning animated fadeIn\">\n                        <QrReader\n                          delay={1500}\n                          onError={error => this.handleError(error)}\n                          onScan={data => this.handleScan(data)}\n                          className=\"money-counting__panel__left__product-scanning__scanner\"\n                        />\n                      </div>\n                      <div className=\"money-counting__panel__left__product-details\">\n                        <Row align=\"middle\">\n                          <Col span={21}><h3>Sản phẩm đã quét</h3></Col>\n                          <Col span={3} align=\"center\">\n                            <Tooltip title=\"Làm mới\" placement=\"bottom\">\n                              <Button\n                                shape=\"circle\" icon={<ReloadOutlined />}\n                                className=\"money-counting__panel__left__product-details__btn-clear\"\n                                onClick={() => this.clearScannedProduct()}\n                              />\n                            </Tooltip>\n                          </Col>\n                        </Row>\n                        {scannedProduct ? (\n                          <Row gutter={20}>\n                            <Col span={8}>\n                              <ul className=\"money-counting__panel__left__product-details__labels\">\n                                <li>Tên sản phẩm</li>\n                                <li>Giá bán</li>\n                                <li>Thể loại</li>\n                                <li>Nhà phân phối</li>\n                              </ul>\n                            </Col>\n                            <Col span={16}>\n                              <ul className=\"money-counting__panel__left__product-details__texts\">\n                                <li>{scannedProduct.name}</li>\n                                <li>\n                                  <NumberFormat\n                                    value={scannedProduct.price}\n                                    displayType=\"text\"\n                                    thousandSeparator={true}\n                                    suffix=\" VNĐ\"\n                                    style={{ fontWeight: 'bold' }} />\n                                </li>\n                                <li>{scannedProduct.category.name}</li>\n                                <li>{scannedProduct.supplier.name}</li>\n                              </ul>\n                            </Col>\n                          </Row>\n                        ) : (\n                            <Empty\n                              image={Empty.PRESENTED_IMAGE_SIMPLE}\n                              description=\"Chưa tìm thấy\"\n                              className=\"money-counting__panel__left__product-details__empty\" />\n                          )}\n                      </div>\n                    </div>\n                  </Col>\n                  <Col span={18}>\n                    <div className=\"money-counting__panel__right\">\n                      <div className=\"money-counting__panel__right__header\">\n                        <Row>\n                          <Col span={18}>\n                            <h3 className=\"money-counting__panel__right__header__title\">\n                              <div className=\"money-counting__panel__right__header__title__icon-wrapper\">\n                                <ShoppingCartOutlined className=\"money-counting__panel__right__header__title__icon-wrapper__icon\" />\n                              </div>\n                              <span>Giỏ hàng của khách</span>\n                            </h3>\n                          </Col>\n                          <Col span={6}>\n                            <div className=\"money-counting__panel__right__header__btn-done-checkout-wrapper\">\n                              <Button\n                                className=\"money-counting__panel__right__header__btn-done-checkout-wrapper__btn\"\n                                type=\"primary\"\n                                disabled={checkedOutProducts.length === 0}\n                              >\n                                <span style={{ marginRight: 5 }}>Xuất hóa đơn</span>\n                                <RightOutlined />\n                              </Button>\n                            </div>\n                          </Col>\n                        </Row>\n                      </div>\n                      <div className=\"money-counting__panel__right__shopping-cart\">\n                        <div className=\"money-counting__panel__right__shopping-cart__list-products\">\n                          <Table\n                            dataSource={[...checkedOutProducts]}\n                            columns={columns}\n                            pagination={false}\n                            scroll={{ y: 355 }}\n                            locale={{ emptyText: (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có sản phẩm\" />) }}\n                          />\n                        </div>\n                        <div className=\"money-counting__panel__right__shopping-cart__details\">\n                          <Row gutter={20}>\n                            <Col span={5}>\n                              <ul className=\"money-counting__panel__right__shopping-cart__details__labels\">\n                                <li>Số lượng sản phẩm</li>\n                                <li>Tổng tiền</li>\n                              </ul>\n                            </Col>\n                            <Col span={19}>\n                              <ul>\n                                <li>{checkedOutProducts.length}</li>\n                                <li>\n                                  <NumberFormat\n                                    value={priceTotal}\n                                    displayType=\"text\"\n                                    thousandSeparator={true}\n                                    suffix=\" VNĐ\"\n                                    className=\"money-counting__panel__right__shopping-cart__details__price-total\"\n                                  />\n                                </li>\n                              </ul>\n                            </Col>\n                          </Row>\n                        </div>\n                      </div>\n                    </div>\n                  </Col>\n                </Row>\n              </div>\n            </div>\n          )}\n      </div>\n    )\n  }\n}\nexport default withCookies(MoneyCounting)\n"]},"metadata":{},"sourceType":"module"}