{"ast":null,"code":"var _jsxFileName = \"/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/layout/Toolbar/Toolbar.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Avatar, Dropdown, Menu } from 'antd';\nimport { LogoutOutlined } from '@ant-design/icons';\nimport { withCookies } from 'react-cookie';\nimport { withRouter } from 'react-router-dom';\nimport { COOKIE_NAMES } from '../../../constants/cookie-name.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../redux/actions';\nimport './Toolbar.style.scss';\n\nclass Toolbar extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSelectMenuItem = e => {\n      const code = e.split('***');\n      const key = code[0];\n      const path = code[1];\n      const title = code[2];\n\n      if (key === 'LOGOUT') {\n        this.logout();\n        return;\n      }\n\n      const icon = this.props.app.currentPageIcon;\n      console.log(JSON.stringify(icon));\n      this.props.setCurrentPageTitle(title, icon);\n      this.props.history.push(path);\n    };\n\n    this.logout = () => {\n      const {\n        cookies\n      } = this.props;\n      cookies.remove(COOKIE_NAMES.token, {\n        path: '/'\n      });\n      cookies.remove(COOKIE_NAMES.user, {\n        path: '/'\n      });\n      this.props.history.push('/login');\n    };\n  }\n\n  render() {\n    const {\n      user,\n      avatarMenuItems\n    } = this.props;\n    const {\n      currentPageTitle,\n      currentPageIcon\n    } = this.props.app;\n    const CurrentPage = {\n      Icon: currentPageIcon\n    };\n    return React.createElement(Row, {\n      className: \"toolbar\",\n      justify: \"start\",\n      align: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"__page-title\",\n      span: 18,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(CurrentPage.Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"__page-title__text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, currentPageTitle)), React.createElement(Col, {\n      span: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"__account\",\n      justify: \"center\",\n      align: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 14,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"More user features here...\"), React.createElement(Col, {\n      span: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      overlay: React.createElement(Menu, {\n        onClick: e => this.handleSelectMenuItem(e.key),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, (avatarMenuItems || []).map(item => React.createElement(Menu.Item, {\n        key: item.key + '***' + item.path + '***' + item.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(item.icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), item.title)), React.createElement(Menu.Item, {\n        key: \"LOGOUT\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(LogoutOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), \"\\u0110\\u0103ng xu\\u1EA5t\")),\n      className: \"__account__avatar-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Row, {\n      align: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      size: \"default\",\n      src: user.avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(Col, {\n      span: 17,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, user.fullname || ''))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  app: state.app\n});\n\nexport default connect(mapStateToProps, actions)(withCookies(withRouter(Toolbar)));","map":{"version":3,"sources":["/home/viettran/Desktop/cnpm-19hc-group04/final-project/front-end/src/components/layout/Toolbar/Toolbar.js"],"names":["React","Component","Row","Col","Avatar","Dropdown","Menu","LogoutOutlined","withCookies","withRouter","COOKIE_NAMES","connect","actions","Toolbar","handleSelectMenuItem","e","code","split","key","path","title","logout","icon","props","app","currentPageIcon","console","log","JSON","stringify","setCurrentPageTitle","history","push","cookies","remove","token","user","render","avatarMenuItems","currentPageTitle","CurrentPage","Icon","map","item","avatar","fullname","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, Avatar, Dropdown, Menu } from 'antd';\nimport { LogoutOutlined } from '@ant-design/icons';\nimport { withCookies } from 'react-cookie';\nimport { withRouter } from 'react-router-dom';\nimport { COOKIE_NAMES } from '../../../constants/cookie-name.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../redux/actions';\nimport './Toolbar.style.scss';\n\nclass Toolbar extends Component {\n  handleSelectMenuItem = (e) => {\n    const code = e.split('***');\n    const key = code[0];\n    const path = code[1];\n    const title = code[2];\n\n    if (key === 'LOGOUT') {\n      this.logout();\n      return;\n    }\n\n    const icon = this.props.app.currentPageIcon;\n    console.log(JSON.stringify(icon));\n\n    this.props.setCurrentPageTitle(title, icon);\n    this.props.history.push(path);\n  }\n\n  logout = () => {\n    const { cookies } = this.props;\n    cookies.remove(COOKIE_NAMES.token, { path: '/' });\n    cookies.remove(COOKIE_NAMES.user, { path: '/' });\n    this.props.history.push('/login');\n  }\n\n  render() {\n    const { user, avatarMenuItems } = this.props;\n    const { currentPageTitle, currentPageIcon } = this.props.app;\n    const CurrentPage = { Icon: currentPageIcon };\n\n    return (\n      <Row className=\"toolbar\" justify=\"start\" align=\"middle\">\n        <Col className=\"__page-title\" span={18}>\n          <CurrentPage.Icon />\n          <span className=\"__page-title__text\">{currentPageTitle}</span>\n        </Col>\n        <Col span={6}>\n          <Row className=\"__account\" justify=\"center\" align=\"middle\">\n            <Col span={14}>\n              More user features here...\n            </Col>\n            <Col span={10}>\n              <Dropdown overlay={\n                <Menu onClick={e => this.handleSelectMenuItem(e.key)}>\n                  {(avatarMenuItems || []).map((item) => (\n                    <Menu.Item key={item.key + '***' + item.path + '***' + item.title}>\n                      <item.icon />\n                      {item.title}\n                    </Menu.Item>\n                  ))}\n                  <Menu.Item key=\"LOGOUT\">\n                    <LogoutOutlined />\n                    Đăng xuất\n                  </Menu.Item>\n                </Menu>\n              } className=\"__account__avatar-menu\">\n                <Row align=\"middle\">\n                  <Col span={7}><Avatar size=\"default\" src={user.avatar} /></Col>\n                  <Col span={17}><span>{user.fullname || ''}</span></Col>\n                </Row>\n              </Dropdown>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  app: state.app\n})\n\nexport default connect(mapStateToProps, actions)(withCookies(withRouter(Toolbar)));\n"]},"metadata":{},"sourceType":"module"}